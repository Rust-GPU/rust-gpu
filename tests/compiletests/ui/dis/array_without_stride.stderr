OpCapability Shader
OpCapability Float64
OpCapability Int64
OpCapability Int16
OpCapability Int8
OpCapability ShaderClockKHR
OpCapability VulkanMemoryModel
OpExtension "SPV_KHR_shader_clock"
OpMemoryModel Logical Vulkan
OpEntryPoint GLCompute %1 "main_cs" %2
OpExecutionMode %1 LocalSize 1 1 1
%3 = OpString "$OPSTRING_FILENAME/array_without_stride.rs"
OpSource Unknown 0 %3 "// build-pass/n// compile-flags: -C llvm-args=--disassemble-globals/n// CHECK-NOT: ArrayStride/n/nuse spirv_std::spirv;/n/n// Arrays containing pointers should NOT have ArrayStride decoration/n// This tests the case from issue #266 where arrays in function/private storage/n// shouldn't have explicit layout decorations/n/n// Use a struct with an array of pointers to ensure the array type is preserved/n#[derive(Copy, Clone)]/npub struct WorkgroupData {/n    pointers: [*mut f32; 4],/n}/n/n#[spirv(compute(threads(1)))]/npub fn main_cs(#[spirv(workgroup)] shared: &mut WorkgroupData) {/n    // Just read the pointer array to ensure it's used/n    let _first_ptr = shared.pointers[0];/n}/n"
OpName %4 "WorkgroupData"
OpMemberName %4 0 "pointers"
OpName %2 "shared"
OpMemberDecorate %4 0 Offset 0
%5 = OpTypeFloat 32
%6 = OpTypePointer Function %5
%7 = OpTypeInt 32 0
%8 = OpConstant  %7  4
%9 = OpTypeArray %6 %8
%4 = OpTypeStruct %9
%10 = OpTypePointer Workgroup %4
%11 = OpTypeVoid
%12 = OpTypeFunction %11
%13 = OpTypeBool
%14 = OpConstant  %7  0
%15 = OpTypePointer Workgroup %6
%2 = OpVariable  %10  Workgroup
