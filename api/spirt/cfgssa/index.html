<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Tools for working with control-flow graphs that contain SSA dataflow (often abbreviated to `CFG&#60;SSA&#62;` or similar)."><title>spirt::cfgssa - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-42caa33d.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="spirt" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.0-nightly (b19329a37 2024-11-21)" data-channel="nightly" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../spirt/index.html">spirt</a><span class="version">0.4.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module cfgssa</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate spirt</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">spirt</a></span><h1>Module <span>cfgssa</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/spirt/cfgssa.rs.html#1-717">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Tools for working with control-flow graphs that contain SSA dataflow
(often abbreviated to <code>CFG&lt;SSA&gt;</code> or similar).</p>
<p>The defining characteristic of SSA dataflow in a control-flow graph is that
SSA definitions (of values, e.g. the result of an instruction) are “visible”
from all the CFG locations they dominate (i.e. the locations that can only
be reached by passing through the definition first), and can therefore be
directly used arbitrarily far away in the CFG with no annotations required
anywhere in the CFG between the definition and its uses.</p>
<p>While “def dominates use” is sufficient to ensure the value can traverse
the necessary paths (between def and use) in the CFG, a lot of care must
be taken to preserve the correctness of such implicit dataflow across all
transformations, and it’s overall far more fragile than the local dataflow
of e.g. phi nodes (or their alternative “block arguments”), or in SPIR-T’s
case, <code>ControlRegion</code> inputs and <code>ControlNode</code> outputs (inspired by RVSDG,
which has even stricter isolation/locality in its regions).</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.DefMap.html" title="struct spirt::cfgssa::DefMap">DefMap</a></div><div class="desc docblock-short">All blocks and ddefinitions they contain, which have to be computed first,
and remain immutable, because where a value is defined (or whether it’s at
all part of the function itself) can have non-monotonic effects elsewhere.</div></li><li><div class="item-name"><a class="struct" href="struct.UseAccumulator.html" title="struct spirt::cfgssa::UseAccumulator">UseAccumulator</a></div><div class="desc docblock-short">Incremental tracker for definition uses (and CFG edges between blocks),
accumulating the complete set of transitive uses for each block, also known
as the SSA “live set” (corresponding to the starting position of each block).</div></li></ul></section></div></main></body></html>